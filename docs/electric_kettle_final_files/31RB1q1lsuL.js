'use strict';mix_d("SBXGwentCards__lifestyle-image-v4-creative-desktop:lifestyle-image-v4-creative-desktop__wzPvjHnR","exports tslib @c/pagemarker @c/dom @c/logger @c/aui-utils @c/metrics @c/aui-feature-detect @c/browser-operations @p/a-ajax".split(" "),function(H,z,C,T,U,V,W,X,Y,Z){function x(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function u(a,b){return function(c){c=n(a,c);return b?b(c):c}}var aa=x(C),D=x(T),ba=x(U),ca=x(V),I=x(W),da=x(X),ea=x(Y),fa=x(Z),v,w,B;(function(a){a.Cornerstone=
"CORNERSTONE";a.Axiom="AXIOM"})(B||(B={}));var ha=(v={},v.e="basebe.ClientErrors.4",v.i="basebe.Impressions.5",v.c="basebe.Clicks.4",v.s="basebe.Swipes.4",v.v="basebe.Viewabilities.4",v.vc="basebe.VisualCompleteness.6",v.ss="basebe.slideshow.1",v),ia=(w={},w.e="basebe.ClientErrors.4",w.i="basebe.Impressions.6",w.c="basebe.Clicks.5",w.s="basebe.Swipes.5",w.v="basebe.Viewabilities.5",w.vc="basebe.VisualCompleteness.7",w.ss="basebe.slideshow.1",w),J=function(a,b){return"matches"in a?a.matches(b):"msMatchesSelector"in
a?a.msMatchesSelector(b):"webkitMatchesSelector"in a?a.webkitMatchesSelector(b):0<=r(b,l().ownerDocument.body).indexOf(a)},l=function(a,b){b=b||D["default"].cardRoot;return!a||J(b,a)?b:b.querySelector(a)},r=function(a,b){return Array.prototype.slice.call((b||D["default"].cardRoot).querySelectorAll(a))},n=function(a,b){return(b=l("["+a+"]",b))?b.getAttribute(a):null},K=function(a,b){a:{for(var c="["+a+"]";b&&b!==D["default"].cardRoot;){if(J(b,c))break a;b=b.parentElement}b=null}return b?b.getAttribute(a):
null},y=function(a,b){ba["default"].log(a,"ERROR",b||"SBX_GWENT")},L=function(a){var b;a=/\?([^#]+)/.exec(a);if(!a)return[];a=a[1].split("&");var c=null;try{for(var d=z.__values(a),e=d.next();!e.done;e=d.next()){var f=e.value;if(0===f.indexOf("ref_=")){c=f;break}}}catch(k){var g={error:k}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error;}}return c?(g=c.split("=").pop()||"")?g.split("_"):[]:[]},M=function(a,b,c){var d={};if(5<c.length){d.el=c.pop()||null;a:{var e;try{for(var f=
z.__values(c),g=f.next();!g.done;g=f.next()){var k=g.value;if(/^\d+$/.test(k)){var m=k;break a}}}catch(p){var h={error:p}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(h)throw h.error;}}m=null}d.index=m;d.asin=K("data-asin",b);d.type=K("data-avar",b)}a.c(d,b)},ja=function(a,b){var c=L(b.href);M(a,b,c)},ka=function(a,b){var c=l().ownerDocument.defaultView,d=function(e){2!==e.button&&(ja(a,b),e.metaKey||e.altKey||e.shiftKey||e.ctrlKey||1===e.button||"_blank"===b.target||(e.preventDefault(),
c.setTimeout(function(){c.open(b.href,b.target||"_top")},50)))};b.addEventListener("click",d);b.addEventListener("auxclick",d)},la=function(a,b){r("[href]",b).filter(function(c){return!c.classList.contains("a-carousel-button")}).forEach(function(c){ka(a,c)});r(".amazon-follow",b).forEach(function(c){c.addEventListener("click",function(){var d=L("?&ref_="+c.getAttribute("data-ref"));M(a,c,d)})})},ma=u("data-card-metrics-id",function(a){return(a||"").split("_")[0]}),na=u("data-var"),oa=u("data-mrkt"),
pa=u("data-nm",function(a){return"true"===a}),qa=u("data-rid"),ra=u("data-cid"),sa=u("data-iid"),ta=u("data-wl",function(a){return a?a.split(","):[]}),ua=u("data-slot"),va=u("data-ts"),wa=function(a){return{id:n("data-asin",a),prime:!!l(".a-icon-prime",a),price:!!l(".a-price",a),savings:!!l('.a-price[data-a-strike="true"]',a),rating:n("data-rt",a),badge:n("data-deal",a)}},xa=function(a,b){var c=null,d=null;a.addEventListener("touchstart",function(e){c=e.touches[0].pageX});a.addEventListener("touchmove",
function(e){null===c&&(c=e.touches[0].pageX);d=e.touches[0].pageX});a.addEventListener("touchend",function(){null!==c&&null!==d&&b(d-c);c=d=null})},ya=function(a){if(da["default"].isSupported("touch")){var b=function(c){var d=Math.abs(c);30<d&&a.s({direction:0>c?"left":"right",length:d})};r("[data-track-swipe]").forEach(function(c){return xa(c,b)})}},za=function(a,b){var c=l().ownerDocument.defaultView,d,e=function(){d||(d=c.setTimeout(a,b))};e.cancel=function(){c.clearTimeout(d);d=0};return e},N=
function(a,b,c){var d=(c||{}).ms||25,e=(c||{}).el||l().ownerDocument.defaultView,f=ca["default"].throttle(b,d);e.addEventListener(a,f);return function(){e.removeEventListener(a,f)}},O=function(a,b,c){return 0<=a?Math.min(c-a,b-a):0<b?Math.min(Math.min(b,c),b-a):0},Aa=function(a,b){var c=function(){var f=b?b:l(),g=d,k=f.getBoundingClientRect();if(f=k.width*k.height){var m=k.top,h=k.bottom,p=k.left,t=k.right,A=l().ownerDocument.defaultView;k=A.innerHeight;p=O(p,t,A.innerWidth);m=O(m,h,k);.5<=p*m/f?
g():g.cancel()}},d=za(function(){e();a.v(null,b)},1E3),e=N("scroll",c,void 0);c()},Ba=function(a,b){var c=Date.now();b=r("img",b);var d=b.length,e=0,f=function(){++e===d&&a.vc({delay:Date.now()-c})};b.forEach(function(g){null!==n("data-lazy",g)&&null!==n("data-src",g)?g.addEventListener("load",function(){g.src===g.dataset.src&&f()}):g.complete?f():g.addEventListener("load",f)})},Da=function(a,b){var c=a.anonymizedRequestId,d=a.campaignId,e=a.idType;a=a.slotName;void 0===b&&(b=!1);var f=b?ia:ha,g=
{anonymizedRequestId:c,campaignId:d,slotName:a};b&&(g.idType=e);var k=function(m,h){try{var p=I["default"],t=p.event,A=z.__assign({},g);if(h)for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(A[E]=h[E]);t.call(p,A,"base-be",f[m],{ssd:!0})}catch(Ca){y(Ca)}};return{i:k.bind(null,"i"),v:k.bind(null,"v"),vc:k.bind(null,"vc"),c:k.bind(null,"c"),s:k.bind(null,"s"),ss:k.bind(null,"ss"),e:function(m){k("e",m&&{name:m.name,message:m.message,stack:m.stack})}}},Q=function(a){var b=ra(a);b=Da({anonymizedRequestId:qa(),
campaignId:b,idType:14===(null===b||void 0===b?void 0:b.length)?B.Axiom:B.Cornerstone,slotName:ua()},pa(a));var c=b.i,d=[].map.call(r("[data-asin]",a),wa),e=ma(),f=na(a),g=oa(a),k=va(a),m=l().ownerDocument.defaultView;c.call(b,{asins:d,creativeType:e,creativeVariation:f,market:g,version:k,viewport:m.innerWidth+"x"+m.innerHeight,weblabs:ta(a)});la(b,a);Ba(b,a);Aa(b,a);ya(b)},F=function(a,b){void 0===b&&(b=1);I["default"].count("sbxGwentClient"+a,b)},q={log:function(a){var b=l().ownerDocument.defaultView;
var c=sa();(b=c&&b.sbxGwentClient&&"number"===typeof b.sbxGwentClient[c]?Date.now()-b.sbxGwentClient[c]:null)?F(a,b):F("NoPageTime")}},Ea=function(a){var b=a.url,c=a.onSuccess,d=a.onError;b||d();fa["default"].get(b,{success:function(e){e&&"ok"===e.status?c(e):d()},error:d,abort:d})},G;(G||(G={})).adFeedbackHandler="adFeedbackHandler";var Fa=function(a,b,c,d,e){try{var f=JSON.parse(a);return e+"?pl="+encodeURIComponent(JSON.stringify({adCreativeMetaData:{adCreativeId:f[0],adId:b,adImpressionId:f[1],
adNetwork:"aax",adProgramId:1010,adCreativeDetails:[{campaignId:c}]},adPlacementMetaData:{adElementId:f[2],pageType:f[3],pageUrl:f[4],searchTerms:f[5],slotName:d}}))}catch(g){return null}},Ga=function(a){var b=ea["default"].setup().define,c=!!n("data-ad-feedback-clicks"),d=!!n("data-ad-feedback-simulate"),e=a||"AdFeedbackSuccess",f="AdFeedbackPlaceholderClick",g=!1;c&&b(G.adFeedbackHandler,"click",function(){q.log(f);"AdFeedbackPlaceholderClick"===f&&(g=!0)});a=n("data-ad-feedback");b=n("data-ad-feedback-url")||
"/gp/aq-feedback/lazyLoad/handler/af-link-handler.html";if(a){c=n("data-slot");var k=n("data-aid"),m=n("data-cid");a=Fa(a,k,m,c,b);Ea({url:a,onSuccess:function(h){var p=h.html;var t=l('[data-id="afb-content"]');t&&p?(t.innerHTML=p,p=t):p=null;if(h=h.script)t=l().ownerDocument.createElement("script"),t.type="text/javascript",t.innerHTML=h,l().appendChild(t);q.log(e);f="AdFeedbackLinkClick";p&&g&&d&&((h=l("a",p))?(h.click(),h=!0):h=!1,q.log(h?"AdFeedbackSimulateClickSuccess":"AdFeedbackSimulateClickFail"))},
onError:function(){q.log("AdFeedbackFallback");g&&d&&q.log("AdFeedbackSimulateClickFail")}})}},R=function(){r('[data-id="cta"]').forEach(function(a){if(a.parentElement){var b=l('[data-id*="cta-fallback"]',a.parentElement),c=l(".a-truncate",a),d=l(".a-truncate-full",a);c&&d&&(d.clientHeight>c.clientHeight&&b?(b.style.display="block",a.parentElement.removeChild(a)):(b=a.parentElement.getAttribute("aria-hidden"),b&&"false"!==b||(b=a.getAttribute("data-label")||d.innerHTML,a.parentElement.setAttribute("aria-label",
b)),(c=l('[data-id*="cta-chevron"]',a))&&!d.hasAttribute("data-chevron")&&(d.setAttribute("data-chevron","true"),a=d.innerHTML.split(" "),b=a.pop(),c=c.innerHTML,d.innerHTML="<span>"+a.join(" ")+" </span><span>"+b+"&nbsp;"+c+"</span>")))}})},Ha=function(a){var b=n("data-src",a)||"",c=n("data-srcset",a)||"",d=a.cloneNode();d.removeAttribute("data-src");d.removeAttribute("data-srcset");d.removeAttribute("data-lazy");d.srcset=c;d.src=b;a.parentNode&&a.parentNode.insertBefore(d,a);d.onload=function(){a.style.opacity=
"0";q.log("LazyLoaded")}},S=function(a){var b=n("data-src",a)||"",c=n("data-srcset",a)||"",d=n("data-alt",a)||"",e=n("data-cssclass",a)||"",f=document.createElement("img");f.setAttribute("srcset",c);f.setAttribute("src",b);f.setAttribute("alt",d);f.setAttribute("class",e);a.parentNode&&a.parentNode.insertBefore(f,a);f.onload=function(){return q.log("LazyLoaded")}},Ia=function(){try{r('img[data-lazy="true"]').forEach(Ha),"complete"===document.readyState||"interactive"===document.readyState?r('div[data-lazy="true"]').forEach(S):
document.addEventListener("DOMContentLoaded",function(){return r('div[data-lazy="true"]').forEach(S)})}catch(a){y(a)}},Ja={T1:0,T2:1E3,T3:2E3,T4:3E3,T5:4E3,T6:5E3,T7:6E3,T8:7E3,T9:8E3},Ka=function(a){"complete"===document.readyState||"interactive"===document.readyState?a():document.addEventListener("DOMContentLoaded",a)};C=function(a){return function(){return z.__awaiter(void 0,void 0,void 0,function(){var b,c,d,e,f;return z.__generator(this,function(g){switch(g.label){case 0:q.log("Loaded");b=a||
{};c=b.loadAdFeedback;d=b.onLoad;e=b.onInit;f=b.isMobile;e&&e();try{c&&Ga()}catch(h){y(h)}return[4,aa["default"].pageReady];case 1:g.sent();q.log("Ready");try{var k=l(".sbx-no-js",void 0);k&&k.classList.remove("sbx-no-js");try{var m=r("[data-cid]");m.length?m.forEach(Q):Q()}catch(h){y(h)}try{R(),N("resize",R,void 0)}catch(h){y(h)}Ia();d&&d();g=f;if(void 0!==g&&!window.sbxGwentClientDPR)try{window.sbxGwentClientDPR=!0,F((g?"Mobile":"Desktop")+"DPR"+(4>=Math.round(2*window.devicePixelRatio)/2?Math.round(2*
window.devicePixelRatio)/2:"4+"))}catch(h){y(h)}}catch(h){y(h)}return[2]}})})}}({loadAdFeedback:!0,onLoad:function(){q.log("LifestyleOnLoad");var a=n("data-lazy-load");a&&Ka(function(){setTimeout(function(){var b=l("img[data-lifestyle-img]"),c=b&&b.getAttribute("src");if(b&&c){c=c.replace("_QL50_","_QL70_");var d=c.replace,e=window.innerWidth,f=2<=window.devicePixelRatio?2:1,g=405*f;1470<=e?g=507*f:1400<=e?g=468*f:1250<=e&&(g=430*f);c=d.call(c,"_SX405_","_SX"+g+"_");b.setAttribute("src",c);q.log("LazyLoadLifestyle"+
a)}},Ja[a]||0)})},onInit:function(){try{P.when("af").execute(function(){return q.log("LifestyleAF")})}catch(a){q.log("LifestyleAFError")}}});H._operationNames=[];H.card=C});
