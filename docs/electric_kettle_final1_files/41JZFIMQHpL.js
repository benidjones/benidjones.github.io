'use strict';mix_d("SBXGwentCards__lifestyle-image-v4-creative-desktop:lifestyle-image-v4-creative-desktop__OD4MJ4pr","exports tslib @c/pagemarker @c/dom @c/logger @c/aui-utils @c/metrics @c/aui-feature-detect @c/browser-operations @p/a-ajax @c/scoped-dom @c/aui-modal @c/aui-untrusted-ajax".split(" "),function(L,r,G,Y,Z,aa,ba,ca,da,ea,fa,ha,ia){function v(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function y(a,b){return function(c){c=p(a,c);return b?b(c):c}}var ja=v(G),z=v(Y),
ka=v(Z),la=v(aa),M=v(ba),ma=v(ca),H=v(da),na=v(ea),oa=v(fa),pa=v(ha),qa=v(ia),A,B,F;(function(a){a.Cornerstone="CORNERSTONE";a.Axiom="AXIOM"})(F||(F={}));var ra=(A={},A.e="basebe.ClientErrors.4",A.i="basebe.Impressions.5",A.c="basebe.Clicks.4",A.s="basebe.Swipes.4",A.v="basebe.Viewabilities.4",A.vc="basebe.VisualCompleteness.6",A.ss="basebe.slideshow.1",A),sa=(B={},B.e="basebe.ClientErrors.4",B.i="basebe.Impressions.6",B.c="basebe.Clicks.5",B.s="basebe.Swipes.5",B.v="basebe.Viewabilities.5",B.vc=
"basebe.VisualCompleteness.7",B.ss="basebe.slideshow.1",B),N=function(a,b){return"matches"in a?a.matches(b):"msMatchesSelector"in a?a.msMatchesSelector(b):"webkitMatchesSelector"in a?a.webkitMatchesSelector(b):0<=w(b,q().ownerDocument.body).indexOf(a)},q=function(a,b){b=b||z["default"].cardRoot;return!a||N(b,a)?b:b.querySelector(a)},w=function(a,b){return Array.prototype.slice.call((b||z["default"].cardRoot).querySelectorAll(a))},p=function(a,b){return(b=q("["+a+"]",b))?b.getAttribute(a):null},O=
function(a,b){a:{for(var c="["+a+"]";b&&b!==z["default"].cardRoot;){if(N(b,c))break a;b=b.parentElement}b=null}return b?b.getAttribute(a):null},C=function(a,b){ka["default"].log(a,"ERROR",b||"SBX_GWENT")},Q=function(a){var b;a=/\?([^#]+)/.exec(a);if(!a)return[];a=a[1].split("&");var c=null;try{for(var d=r.__values(a),e=d.next();!e.done;e=d.next()){var f=e.value;if(0===f.indexOf("ref_=")){c=f;break}}}catch(h){var g={error:h}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error;
}}return c?(g=c.split("=").pop()||"")?g.split("_"):[]:[]},R=function(a,b,c){var d={};if(5<c.length){d.el=c.pop()||null;a:{var e;try{for(var f=r.__values(c),g=f.next();!g.done;g=f.next()){var h=g.value;if(/^\d+$/.test(h)){var k=h;break a}}}catch(m){var l={error:m}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(l)throw l.error;}}k=null}d.index=k;d.asin=O("data-asin",b);d.type=O("data-avar",b)}a.c(d,b)},ta=function(a,b){var c=Q(b.href);R(a,b,c)},ua=function(a,b){var c=q().ownerDocument.defaultView,
d=function(e){2!==e.button&&(ta(a,b),e.metaKey||e.altKey||e.shiftKey||e.ctrlKey||1===e.button||"_blank"===b.target||(e.preventDefault(),c.setTimeout(function(){c.open(b.href,b.target||"_top")},50)))};b.addEventListener("click",d);b.addEventListener("auxclick",d)},va=function(a,b){w("[href]",b).filter(function(c){return!c.classList.contains("a-carousel-button")}).forEach(function(c){ua(a,c)});w(".amazon-follow",b).forEach(function(c){c.addEventListener("click",function(){var d=Q("?&ref_="+c.getAttribute("data-ref"));
R(a,c,d)})})},wa=y("data-card-metrics-id",function(a){return(a||"").split("_")[0]}),xa=y("data-var"),ya=y("data-mrkt"),za=y("data-nm",function(a){return"true"===a}),Aa=y("data-rid"),Ba=y("data-cid"),Ca=y("data-iid"),Da=y("data-wl",function(a){return a?a.split(","):[]}),Ea=y("data-slot"),Fa=y("data-ts"),Ga=function(a){return{id:p("data-asin",a),prime:!!q(".a-icon-prime",a),price:!!q(".a-price",a),savings:!!q('.a-price[data-a-strike="true"]',a),rating:p("data-rt",a),badge:p("data-deal",a)}},Ha=function(a,
b){var c=null,d=null;a.addEventListener("touchstart",function(e){c=e.touches[0].pageX});a.addEventListener("touchmove",function(e){null===c&&(c=e.touches[0].pageX);d=e.touches[0].pageX});a.addEventListener("touchend",function(){null!==c&&null!==d&&b(d-c);c=d=null})},Ia=function(a){if(ma["default"].isSupported("touch")){var b=function(c){var d=Math.abs(c);30<d&&a.s({direction:0>c?"left":"right",length:d})};w("[data-track-swipe]").forEach(function(c){return Ha(c,b)})}},Ja=function(a,b){var c=q().ownerDocument.defaultView,
d,e=function(){d||(d=c.setTimeout(a,b))};e.cancel=function(){c.clearTimeout(d);d=0};return e},S=function(a,b,c){var d=(c||{}).ms||25,e=(c||{}).el||q().ownerDocument.defaultView,f=la["default"].throttle(b,d);e.addEventListener(a,f);return function(){e.removeEventListener(a,f)}},T=function(a,b,c){return 0<=a?Math.min(c-a,b-a):0<b?Math.min(Math.min(b,c),b-a):0},Ka=function(a,b){var c=function(){var f=b?b:q(),g=d,h=f.getBoundingClientRect();if(f=h.width*h.height){var k=h.top,l=h.bottom,m=h.left,n=h.right,
u=q().ownerDocument.defaultView;h=u.innerHeight;m=T(m,n,u.innerWidth);k=T(k,l,h);.5<=m*k/f?g():g.cancel()}},d=Ja(function(){e();a.v(null,b)},1E3),e=S("scroll",c,void 0);c()},La=function(a,b){var c=Date.now();b=w("img",b);var d=b.length,e=0,f=function(){++e===d&&a.vc({delay:Date.now()-c})};b.forEach(function(g){null!==p("data-lazy",g)&&null!==p("data-src",g)?g.addEventListener("load",function(){g.src===g.dataset.src&&f()}):g.complete?f():g.addEventListener("load",f)})},Ma=function(a,b){var c=a.anonymizedRequestId,
d=a.campaignId,e=a.idType;a=a.slotName;void 0===b&&(b=!1);var f=b?sa:ra,g={anonymizedRequestId:c,campaignId:d,slotName:a};b&&(g.idType=e);var h=function(k,l){try{var m=M["default"],n=m.event,u=r.__assign({},g);if(l)for(var D in l)Object.prototype.hasOwnProperty.call(l,D)&&(u[D]=l[D]);n.call(m,u,"base-be",f[k],{ssd:!0})}catch(x){C(x)}};return{i:h.bind(null,"i"),v:h.bind(null,"v"),vc:h.bind(null,"vc"),c:h.bind(null,"c"),s:h.bind(null,"s"),ss:h.bind(null,"ss"),e:function(k){h("e",k&&{name:k.name,message:k.message,
stack:k.stack})}}},U=function(a){var b=Ba(a);b=Ma({anonymizedRequestId:Aa(),campaignId:b,idType:14===(null===b||void 0===b?void 0:b.length)?F.Axiom:F.Cornerstone,slotName:Ea()},za(a));var c=b.i,d=[].map.call(w("[data-asin]",a),Ga),e=wa(),f=xa(a),g=ya(a),h=Fa(a),k=q().ownerDocument.defaultView;c.call(b,{asins:d,creativeType:e,creativeVariation:f,market:g,version:h,viewport:k.innerWidth+"x"+k.innerHeight,weblabs:Da(a)});va(b,a);La(b,a);Ka(b,a);Ia(b)},I=function(a,b){void 0===b&&(b=1);M["default"].count("sbxGwentClient"+
a,b)},t={log:function(a){var b=q().ownerDocument.defaultView;var c=Ca();(b=c&&b.sbxGwentClient&&"number"===typeof b.sbxGwentClient[c]?Date.now()-b.sbxGwentClient[c]:null)?I(a,b):I("NoPageTime")}},Na=function(a){var b=a.url,c=a.onSuccess,d=a.onError;b||d();na["default"].get(b,{success:function(e){e&&"ok"===e.status?c(e):d()},error:d,abort:d})},J;(J||(J={})).adFeedbackHandler="adFeedbackHandler";var Oa=function(a,b,c,d,e){try{var f=JSON.parse(a);return e+"?pl="+encodeURIComponent(JSON.stringify({adCreativeMetaData:{adCreativeId:f[0],
adId:b,adImpressionId:f[1],adNetwork:"aax",adProgramId:1010,adCreativeDetails:[{campaignId:c}]},adPlacementMetaData:{adElementId:f[2],pageType:f[3],pageUrl:f[4],searchTerms:f[5],slotName:d}}))}catch(g){return null}},Pa=function(a){var b=H["default"].setup().define,c=!!p("data-ad-feedback-clicks"),d=!!p("data-ad-feedback-simulate"),e=a||"AdFeedbackSuccess",f="AdFeedbackPlaceholderClick",g=!1;c&&b(J.adFeedbackHandler,"click",function(){t.log(f);"AdFeedbackPlaceholderClick"===f&&(g=!0)});a=p("data-ad-feedback");
b=p("data-ad-feedback-url")||"/gp/aq-feedback/lazyLoad/handler/af-link-handler.html";if(a){c=p("data-slot");var h=p("data-aid"),k=p("data-cid");a=Oa(a,h,k,c,b);Na({url:a,onSuccess:function(l){var m=l.html;var n=q('[data-id="afb-content"]');n&&m?(n.innerHTML=m,m=n):m=null;if(l=l.script)n=q().ownerDocument.createElement("script"),n.type="text/javascript",n.innerHTML=l,q().appendChild(n);t.log(e);f="AdFeedbackLinkClick";m&&g&&d&&((l=q("a",m))?(l.click(),l=!0):l=!1,t.log(l?"AdFeedbackSimulateClickSuccess":
"AdFeedbackSimulateClickFail"))},onError:function(){t.log("AdFeedbackFallback");g&&d&&t.log("AdFeedbackSimulateClickFail")}})}},Ra=function(a,b,c){return r.__awaiter(void 0,void 0,void 0,function(){var d;return r.__generator(this,function(e){switch(e.label){case 0:return d=function(){return{adCreativeMetaData:{adCreativeDetails:Qa(b)},adFeedbackLabelId:a}},[4,c(d)];case 1:return e.sent(),[2]}})})},Qa=function(a){var b=[];a.forEach(function(c,d){b.push({campaignId:null===c||void 0===c?void 0:c.campaignId,
adId:null===c||void 0===c?void 0:c.adId,adCreativeIndex:d})});return b},V=function(){w('[data-id="cta"]').forEach(function(a){if(a.parentElement){var b=q('[data-id*="cta-fallback"]',a.parentElement),c=q(".a-truncate",a),d=q(".a-truncate-full",a);c&&d&&(d.clientHeight>c.clientHeight&&b?(b.style.display="block",a.parentElement.removeChild(a)):(b=a.parentElement.getAttribute("aria-hidden"),b&&"false"!==b||(b=a.getAttribute("data-label")||d.innerHTML,a.parentElement.setAttribute("aria-label",b)),(c=q('[data-id*="cta-chevron"]',
a))&&!d.hasAttribute("data-chevron")&&(d.setAttribute("data-chevron","true"),a=d.innerHTML.split(" "),b=a.pop(),c=c.innerHTML,d.innerHTML="<span>"+a.join(" ")+" </span><span>"+b+"&nbsp;"+c+"</span>")))}})},Sa=function(a){var b=p("data-src",a)||"",c=p("data-srcset",a)||"",d=a.cloneNode();d.removeAttribute("data-src");d.removeAttribute("data-srcset");d.removeAttribute("data-lazy");d.srcset=c;d.src=b;a.parentNode&&a.parentNode.insertBefore(d,a);d.onload=function(){a.style.opacity="0";t.log("LazyLoaded")}},
W=function(a){var b=p("data-src",a)||"",c=p("data-srcset",a)||"",d=p("data-alt",a)||"",e=p("data-cssclass",a)||"",f=document.createElement("img");f.setAttribute("srcset",c);f.setAttribute("src",b);f.setAttribute("alt",d);f.setAttribute("class",e);a.parentNode&&a.parentNode.insertBefore(f,a);f.onload=function(){return t.log("LazyLoaded")}},Ta=function(){try{w('img[data-lazy="true"]').forEach(Sa),"complete"===document.readyState||"interactive"===document.readyState?w('div[data-lazy="true"]').forEach(W):
document.addEventListener("DOMContentLoaded",function(){return w('div[data-lazy="true"]').forEach(W)})}catch(a){C(a)}},Ua=function(a,b,c){a=JSON.parse(a);a.adCreativeMetaData=b.adCreativeMetaData;a.feedbackFormContainerId=c;return encodeURI(JSON.stringify(a))},E=function(a,b){return a.querySelector("[class*="+b+"]")},Va=function(a,b,c){return r.__awaiter(void 0,void 0,void 0,function(){var d,e,f,g,h,k,l;return r.__generator(this,function(m){d="adFeedbackModal_"+a;m=(null===(l=E(b,"ad-feedback-modal-container"))||
void 0===l?void 0:l.className)||"";e="."+b.className+" ."+m.replace(" ",".");g=(f=c().adCreativeMetaData.adCreativeDetails)?f.length:0;h={a11yOpenMessage:"",width:Math.max(560,125*g+130),height:645};k=pa["default"].create(d,e,h);return[2,k]})})},Ya=function(a,b,c,d,e,f){var g=E(z["default"].cardRoot,"ad-feedback-loading-spinnner");a.on("beforeShow",function(){return r.__awaiter(void 0,void 0,void 0,function(){var h;return r.__generator(this,function(k){switch(k.label){case 0:return h=Wa(a,b,c),[4,
a.render(function(l){l.innerHTML="";var m=l.appendChild,n=z["default"].createElement("div");n.innerHTML=e;n.setAttribute("style",'box-sizing: border-box; color: rgb(15, 17, 17); font-family: "Amazon Ember", Arial, sans-serif; font-size: 16px; font-weight: 700; line-height: 24px; margin-bottom: 0px; margin-left: 0px; margin-right: 28px; margin-top: 0px; min-height: 56px; padding-bottom: 16px; padding-left: 25px; padding-right: 0px; padding-top: 16px; text-align: left; text-rendering: optimizelegibility; visibility: visible;');
var u=z["default"].createElement("div");u.setAttribute("style",'background-attachment: scroll; background-clip: border-box; background-color: rgb(240, 242, 242); background-image: linear-gradient(to right, #EFEFEF 66.72%, #FFFFFF); background-origin: padding-box; background-position: 0% 0%; background-position-x: 0%; background-position-y: 0%; background-repeat: repeat; background-size: auto; border-bottom-color: rgb(213, 217, 217); border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 8px; border-top-right-radius: 8px; box-sizing: border-box; color: rgb(15, 17, 17); display: block; font-family: "Amazon Ember", Arial, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 24px; padding-right: 24px; padding-top: 0px; position: relative; text-align: left; visibility: visible; z-index: 10;');
u.appendChild(n);m.call(l,u);m=z["default"].createElement("div");m.setAttribute("style","padding-bottom: 16px; padding-left: 50px ; padding-top: 16px; justify-content: center; align-items: center;");Xa(g,m,d,h,f);l.appendChild(m)})];case 1:return k.sent(),[2]}})})})},Wa=function(a,b,c){c=c();var d=c.adCreativeMetaData.adCreativeDetails;null===d||void 0===d?void 0:d.sort(function(e,f){return e.adCreativeIndex<f.adCreativeIndex?-1:1});return Ua(b,c,a.id)},Xa=function(a,b,c,d,e){b.appendChild(a);qa["default"].post("/af/multi-creative/desktop-feedback-form",
{accepts:"application/json",contentType:"application/json",additionalHeaders:{"Accept-Language":""===c?"en-US":c}},{pl:d}).then(function(f){return r.__awaiter(void 0,void 0,void 0,function(){var g,h,k;return r.__generator(this,function(l){g=z["default"].createElement("div");g.innerHTML=String(f.responseBody);for(h=0;h<g.children.length;++h)k=g.children[h],"SCRIPT"===k.tagName?K("script",k,b):"LINK"===k.tagName?K("link",k,b):K("div",k,b);b.removeChild(a);return[2]})})}).catch(function(){b.innerHTML=
e})},K=function(a,b,c){var d=z["default"].createElement(a);d.innerHTML=b.innerHTML;b.getAttributeNames().forEach(function(e){d.setAttribute(e,b.getAttribute(e)||"")});c.appendChild(d)},X={},Za=function(a,b){return r.__awaiter(void 0,void 0,void 0,function(){var c,d,e;return r.__generator(this,function(f){c=H["default"].setup();d=E(a,"ad-feedback-primary-link");e=b().adFeedbackLabelId;c.attach("open-modal",d);c.define("open-modal","click",function(){return r.__awaiter(void 0,void 0,void 0,function(){var g;
return r.__generator(this,function(h){switch(h.label){case 0:return(g=X[e])?[3,2]:[4,Va(e,a,b)];case 1:g=h.sent();var k=a.dataset;Ya(g,k.adFeedbackPayload,b,k.currentLocale,k.formHeaderText,k.formLoadErrorText);X[e]=g;h.label=2;case 2:return g.show(),[2]}})})});return[2]})})},$a=function(a){var b=H["default"].setup(),c=E(a,"ad-feedback-primary-link"),d=E(a,"ad-feedback-text-desktop"),e=E(a,"ad-feedback-sprite");b.attach("mouse-enter",c);b.define("mouse-enter","mouseenter",function(){e.style.backgroundPosition=
"0px -12px";d.style.color="#111111"});b.attach("mouse-leave",c);b.define("mouse-leave","mouseleave",function(){e.style.backgroundPosition="0px 0px";d.style.color="#555"})},ab={T1:0,T2:1E3,T3:2E3,T4:3E3,T5:4E3,T6:5E3,T7:6E3,T8:7E3,T9:8E3},bb=function(a){"complete"===document.readyState||"interactive"===document.readyState?a():document.addEventListener("DOMContentLoaded",a)};G=function(a){return function(){return r.__awaiter(void 0,void 0,void 0,function(){var b,c,d,e,f,g,h,k,l,m;return r.__generator(this,
function(n){switch(n.label){case 0:t.log("Loaded");b=a||{};c=b.loadAdFeedback;d=b.onLoad;e=b.onInit;f=b.isMobile;g=b.enableAdFeedback;e&&e();if(!g)return[3,5];n.label=1;case 1:n.trys.push([1,4,,5]);h=p("data-ad-feedback-label-id");k=p("data-ad-creative-list");if(!h||!k)return[3,3];l=JSON.parse(k);return[4,Ra(h,l,g)];case 2:n.sent(),n.label=3;case 3:return[3,5];case 4:return m=n.sent(),C(m),[3,5];case 5:try{c&&Pa()}catch(x){C(x)}return[4,ja["default"].pageReady];case 6:n.sent();t.log("Ready");try{var u=
q(".sbx-no-js",void 0);u&&u.classList.remove("sbx-no-js");try{var D=w("[data-cid]");D.length?D.forEach(U):U()}catch(x){C(x)}try{V(),S("resize",V,void 0)}catch(x){C(x)}Ta();d&&d();n=f;if(void 0!==n&&!window.sbxGwentClientDPR)try{window.sbxGwentClientDPR=!0,I((n?"Mobile":"Desktop")+"DPR"+(4>=Math.round(2*window.devicePixelRatio)/2?Math.round(2*window.devicePixelRatio)/2:"4Plus"))}catch(x){C(x)}}catch(x){C(x)}return[2]}})})}}({enableAdFeedback:function(a){return r.__awaiter(void 0,void 0,void 0,function(){var b,
c,d;return r.__generator(this,function(e){switch(e.label){case 0:return b=a(),c=oa["default"].cardRoot.getElementsByClassName("adFeedbackMainComponent_"+b.adFeedbackLabelId)[0],d=c.dataset.isSponsoredLabelActive,"false"===(d||"false").toLowerCase()?[2]:[4,$a(c)];case 1:return e.sent(),[4,Za(c,a)];case 2:return e.sent(),[2]}})})},loadAdFeedback:!0,onLoad:function(){t.log("LifestyleOnLoad");var a=p("data-lazy-load");a&&bb(function(){setTimeout(function(){var b=q("img[data-lifestyle-img]"),c=b&&b.getAttribute("src");
if(b&&c){c=c.replace("_QL50_","_QL70_");var d=c.replace,e=window.innerWidth,f=2<=window.devicePixelRatio?2:1,g=405*f;1470<=e?g=507*f:1400<=e?g=468*f:1250<=e&&(g=430*f);c=d.call(c,"_SX405_","_SX"+g+"_");b.setAttribute("src",c);t.log("LazyLoadLifestyle"+a)}},ab[a]||0)})},onInit:function(){try{P.when("af").execute(function(){return t.log("LifestyleAF")})}catch(a){t.log("LifestyleAFError")}}});L._operationNames=[];L.card=G});
