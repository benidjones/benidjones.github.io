'use strict';mix_d("SBXGwentCards__multi-brand-creative-desktop:multi-brand-creative-desktop__MIijruCI","exports @c/dom @c/aui-utils tslib @c/pagemarker @c/logger @c/metrics @c/aui-feature-detect @c/browser-operations @p/a-ajax".split(" "),function(Q,K,ja,D,ka,la,ma,na,oa,pa){function E(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function y(a,b){return function(c){c=p(a,c);return b?b(c):c}}var L=E(K),R=E(ja),qa=E(ka),ra=E(la),S=E(ma),sa=E(na),ta=E(oa),ua=E(pa),z,A,J;(function(a){a.Cornerstone=
"CORNERSTONE";a.Axiom="AXIOM"})(J||(J={}));var va=(z={},z.e="basebe.ClientErrors.4",z.i="basebe.Impressions.5",z.c="basebe.Clicks.4",z.s="basebe.Swipes.4",z.v="basebe.Viewabilities.4",z.vc="basebe.VisualCompleteness.6",z.ss="basebe.slideshow.1",z),wa=(A={},A.e="basebe.ClientErrors.4",A.i="basebe.Impressions.6",A.c="basebe.Clicks.5",A.s="basebe.Swipes.5",A.v="basebe.Viewabilities.5",A.vc="basebe.VisualCompleteness.7",A.ss="basebe.slideshow.1",A),T=function(a,b){return"matches"in a?a.matches(b):"msMatchesSelector"in
a?a.msMatchesSelector(b):"webkitMatchesSelector"in a?a.webkitMatchesSelector(b):0<=u(b,w().body).indexOf(a)},q=function(a,b){b=b||L["default"].cardRoot;return!a||T(b,a)?b:b.querySelector(a)},u=function(a,b){return Array.prototype.slice.call((b||L["default"].cardRoot).querySelectorAll(a))},p=function(a,b){return(b=q("["+a+"]",b))?b.getAttribute(a):null},M=function(a,b){for(;b&&b!==L["default"].cardRoot;){if(T(b,a))return b;b=b.parentElement}return null},U=function(a,b){return(b=M("["+a+"]",b))?b.getAttribute(a):
null},V=function(a){if(a)return a=a.getBoundingClientRect(),{left:a.left,right:a.right,top:a.top,bottom:a.bottom};a=w().defaultView;return{left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}},w=function(){return q().ownerDocument},F=function(a,b){ra["default"].log(a,"ERROR",b||"SBX_GWENT")},W=function(a){var b;a=/\?([^#]+)/.exec(a);if(!a)return[];a=a[1].split("&");var c=null;try{for(var d=D.__values(a),e=d.next();!e.done;e=d.next()){var f=e.value;if(0===f.indexOf("ref_=")){c=f;break}}}catch(h){var g=
{error:h}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error;}}return c?(g=c.split("=").pop()||"")?g.split("_"):[]:[]},X=function(a,b,c){var d={};if(5<c.length){d.el=c.pop()||null;a:{var e;try{for(var f=D.__values(c),g=f.next();!g.done;g=f.next()){var h=g.value;if(/^\d+$/.test(h)){var m=h;break a}}}catch(k){var l={error:k}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(l)throw l.error;}}m=null}d.index=m;d.asin=U("data-asin",b);d.type=U("data-avar",b)}a.c(d,b)},
xa=function(a,b){var c=W(b.href);X(a,b,c)},ya=function(a,b){var c=w().defaultView,d=function(e){2!==e.button&&(xa(a,b),e.metaKey||e.altKey||e.shiftKey||e.ctrlKey||1===e.button||"_blank"===b.target||(e.preventDefault(),c.setTimeout(function(){c.open(b.href,b.target||"_top")},50)))};b.addEventListener("click",d);b.addEventListener("auxclick",d)},za=function(a,b){u("[href]",b).filter(function(c){return!c.classList.contains("a-carousel-button")}).forEach(function(c){ya(a,c)});u(".amazon-follow",b).forEach(function(c){c.addEventListener("click",
function(){var d=W("?&ref_="+c.getAttribute("data-ref"));X(a,c,d)})})},Aa=y("data-card-metrics-id",function(a){return(a||"").split("_")[0]}),Ba=y("data-var"),Ca=y("data-mrkt"),Da=y("data-nm",function(a){return"true"===a}),Ea=y("data-rid"),Fa=y("data-cid"),Ga=y("data-iid"),Ha=y("data-wl",function(a){return a?a.split(","):[]}),Ia=y("data-slot"),Ja=y("data-ts"),Ka=function(a){return{id:p("data-asin",a),prime:!!q(".a-icon-prime",a),price:!!q(".a-price",a),savings:!!q('.a-price[data-a-strike="true"]',
a),rating:p("data-rt",a),badge:p("data-deal",a)}},La=function(a,b){var c=null,d=null;a.addEventListener("touchstart",function(e){c=e.touches[0].pageX});a.addEventListener("touchmove",function(e){null===c&&(c=e.touches[0].pageX);d=e.touches[0].pageX});a.addEventListener("touchend",function(){null!==c&&null!==d&&b(d-c);c=d=null})},Ma=function(a){if(sa["default"].isSupported("touch")){var b=function(c){var d=Math.abs(c);30<d&&a.s({direction:0>c?"left":"right",length:d})};u("[data-track-swipe]").forEach(function(c){return La(c,
b)})}},Na=function(a,b){var c=w().defaultView,d,e=function(){d||(d=c.setTimeout(a,b))};e.cancel=function(){c.clearTimeout(d);d=0};return e},Oa=function(a,b){void 0===b&&(b=0);return function(){R["default"].delay(a,b)}},Y=function(a,b,c){var d=(c||{}).ms||25,e=(c||{}).el||w().defaultView,f=R["default"].throttle(b,d);e.addEventListener(a,f);return function(){e.removeEventListener(a,f)}},N=function(a,b){return Y("resize",a,b)},Z=function(a,b){return Y("scroll",a,b)},aa=function(a,b,c){return 0<=a?Math.min(c-
a,b-a):0<b?Math.min(Math.min(b,c),b-a):0},Pa=function(a,b){var c=function(){var f=b?b:q(),g=d,h=f.getBoundingClientRect();if(f=h.width*h.height){var m=h.top,l=h.bottom,k=h.left,n=h.right,t=w().defaultView;h=t.innerHeight;k=aa(k,n,t.innerWidth);m=aa(m,l,h);.5<=k*m/f?g():g.cancel()}},d=Na(function(){e();a.v(null,b)},1E3),e=Z(c);c()},Qa=function(a,b){var c=Date.now();b=u("img",b);var d=b.length,e=0,f=function(){++e===d&&a.vc({delay:Date.now()-c})};b.forEach(function(g){null!==p("data-lazy",g)&&null!==
p("data-src",g)?g.addEventListener("load",function(){g.src===g.dataset.src&&f()}):g.complete?f():g.addEventListener("load",f)})},Ra=function(a,b){var c=a.anonymizedRequestId,d=a.campaignId,e=a.idType;a=a.slotName;void 0===b&&(b=!1);var f=b?wa:va,g={anonymizedRequestId:c,campaignId:d,slotName:a};b&&(g.idType=e);var h=function(m,l){try{var k=S["default"],n=k.event,t=D.__assign({},g);if(l)for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&(t[x]=l[x]);n.call(k,t,"base-be",f[m],{ssd:!0})}catch(r){F(r)}};
return{i:h.bind(null,"i"),v:h.bind(null,"v"),vc:h.bind(null,"vc"),c:h.bind(null,"c"),s:h.bind(null,"s"),ss:h.bind(null,"ss"),e:function(m){h("e",m&&{name:m.name,message:m.message,stack:m.stack})}}},ba=function(a){var b=Fa(a);b=Ra({anonymizedRequestId:Ea(),campaignId:b,idType:14===(null===b||void 0===b?void 0:b.length)?J.Axiom:J.Cornerstone,slotName:Ia()},Da(a));var c=b.i,d=[].map.call(u("[data-asin]",a),Ka),e=Aa(),f=Ba(a),g=Ca(a),h=Ja(a),m=w().defaultView;c.call(b,{asins:d,creativeType:e,creativeVariation:f,
market:g,version:h,viewport:m.innerWidth+"x"+m.innerHeight,weblabs:Ha(a)});za(b,a);Qa(b,a);Pa(b,a);Ma(b)},O=function(a,b){void 0===b&&(b=1);S["default"].count("sbxGwentClient"+a,b)},B={log:function(a){var b=w().defaultView;var c=Ga();(b=c&&b.sbxGwentClient&&"number"===typeof b.sbxGwentClient[c]?Date.now()-b.sbxGwentClient[c]:null)?O(a,b):O("NoPageTime")}},Sa=function(a){var b=a.url,c=a.onSuccess,d=a.onError;b||d();ua["default"].get(b,{success:function(e){e&&"ok"===e.status?c(e):d()},error:d,abort:d})},
P;(P||(P={})).adFeedbackHandler="adFeedbackHandler";var Ta=function(a,b,c,d,e){try{var f=JSON.parse(a);return e+"?pl="+encodeURIComponent(JSON.stringify({adCreativeMetaData:{adCreativeId:f[0],adId:b,adImpressionId:f[1],adNetwork:"aax",adProgramId:1010,adCreativeDetails:[{campaignId:c}]},adPlacementMetaData:{adElementId:f[2],pageType:f[3],pageUrl:f[4],searchTerms:f[5],slotName:d}}))}catch(g){return null}},Ua=function(a){var b=ta["default"].setup().define,c=!!p("data-ad-feedback-clicks"),d=!!p("data-ad-feedback-simulate"),
e=a||"AdFeedbackSuccess",f="AdFeedbackPlaceholderClick",g=!1;c&&b(P.adFeedbackHandler,"click",function(){B.log(f);"AdFeedbackPlaceholderClick"===f&&(g=!0)});a=p("data-ad-feedback");b=p("data-ad-feedback-url")||"/gp/aq-feedback/lazyLoad/handler/af-link-handler.html";if(a){c=p("data-slot");var h=p("data-aid"),m=p("data-cid");a=Ta(a,h,m,c,b);Sa({url:a,onSuccess:function(l){var k=l.html;var n=q('[data-id="afb-content"]');n&&k?(n.innerHTML=k,k=n):k=null;if(l=l.script)n=w().createElement("script"),n.type=
"text/javascript",n.innerHTML=l,q().appendChild(n);B.log(e);f="AdFeedbackLinkClick";k&&g&&d&&((l=q("a",k))?(l.click(),l=!0):l=!1,B.log(l?"AdFeedbackSimulateClickSuccess":"AdFeedbackSimulateClickFail"))},onError:function(){B.log("AdFeedbackFallback");g&&d&&B.log("AdFeedbackSimulateClickFail")}})}},Wa=function(a,b,c){return D.__awaiter(void 0,void 0,void 0,function(){var d;return D.__generator(this,function(e){switch(e.label){case 0:return d=function(){return{adCreativeMetaData:{adCreativeDetails:Va(b)},
adFeedbackLabelId:a}},[4,c(d)];case 1:return e.sent(),[2]}})})},Va=function(a){var b=[];a.forEach(function(c,d){b.push({campaignId:null===c||void 0===c?void 0:c.campaignId,adId:null===c||void 0===c?void 0:c.adId,adCreativeIndex:d})});return b},ca=function(){u('[data-id="cta"]').forEach(function(a){if(a.parentElement){var b=q('[data-id*="cta-fallback"]',a.parentElement),c=q(".a-truncate",a),d=q(".a-truncate-full",a);c&&d&&(d.clientHeight>c.clientHeight&&b?(b.style.display="block",a.parentElement.removeChild(a)):
(b=a.parentElement.getAttribute("aria-hidden"),b&&"false"!==b||(b=a.getAttribute("data-label")||d.innerHTML,a.parentElement.setAttribute("aria-label",b)),(c=q('[data-id*="cta-chevron"]',a))&&!d.hasAttribute("data-chevron")&&(d.setAttribute("data-chevron","true"),a=d.innerHTML.split(" "),b=a.pop(),c=c.innerHTML,d.innerHTML="<span>"+a.join(" ")+" </span><span>"+b+"&nbsp;"+c+"</span>")))}})},Xa=function(a){var b=p("data-src",a)||"",c=p("data-srcset",a)||"",d=a.cloneNode();d.removeAttribute("data-src");
d.removeAttribute("data-srcset");d.removeAttribute("data-lazy");d.srcset=c;d.src=b;a.parentNode&&a.parentNode.insertBefore(d,a);d.onload=function(){a.style.opacity="0";B.log("LazyLoaded")}},da=function(a){var b=p("data-src",a)||"",c=p("data-srcset",a)||"",d=p("data-alt",a)||"",e=p("data-cssclass",a)||"",f=document.createElement("img");f.setAttribute("srcset",c);f.setAttribute("src",b);f.setAttribute("alt",d);f.setAttribute("class",e);a.parentNode&&a.parentNode.insertBefore(f,a);f.onload=function(){return B.log("LazyLoaded")}},
Ya=function(){try{u('img[data-lazy="true"]').forEach(Xa),"complete"===document.readyState||"interactive"===document.readyState?u('div[data-lazy="true"]').forEach(da):document.addEventListener("DOMContentLoaded",function(){return u('div[data-lazy="true"]').forEach(da)})}catch(a){F(a)}},Za=function(a,b){return function(){var c,d=u("[data-pixel]"),e=0;try{for(var f=D.__values(d),g=f.next();!g.done;g=f.next()){var h=g.value,m=a,l=V(h),k=V(m),n=l.left,t;if(!(t=n>=k.left&&n<=k.right)){var x=l.right;t=x>=
k.left&&x<=k.right}if(t){var r=h.getAttribute("data-pixel");r&&r.length&&((new Image).src=r);h.removeAttribute("data-pixel");++e}}}catch(H){var v={error:H}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(v)throw v.error;}}e===d.length&&b()}},$a=function(a,b){var c=Za(a,function(){d();e();"function"===typeof b&&b()}),d=Z(c,{el:a}),e=N(c);c();return c},ab=function(){},ea=function(a){a.setAttribute("disabled","disabled");if(a=M(".a-button",a))a.classList.add("a-button-disabled"),a.classList.remove("a-button-focus")},
fa=function(a){a.removeAttribute("disabled");(a=M(".a-button",a))&&a.classList.remove("a-button-disabled")},ha=function(a,b){var c=Oa(b,350);a.addEventListener("click",c);return function(){a.removeEventListener("click",c)}},db=function(a,b,c){var d=q('[data-id="track"]'),e=q('[data-button="prev"]'),f=q('[data-button="next"]'),g=12;if(!d||!e||!f)return ab;var h=!!w().querySelector('[dir="rtl"]'),m=0,l=0,k=2,n=function(){var v=c&&c.minWidth||350,H=c&&c.maxWidth||600,bb=[[0,0],[2*v,1],[1E3,2],[1500,
3],[1900,4]],cb=c&&c.borderWidth||0,ia=w().defaultView,I=parseInt(ia.getComputedStyle(d).width,10);k=(bb.find(function(G){return G[0]>I})||[I,4])[1]||0;if(!(1>k)){var C=Math.floor(I/k)+2*cb-24;g=12;C>H&&(C=H,g=(I-C*k)/(2*k));C<v&&(C=v,g=(I-C*k)/(2*k));Array.from(d.children).forEach(function(G){G.style.width=C+"px";G.style.minWidth=C+"px";G.style.maxWidth=C+"px";G.style.marginLeft=g+"px";G.style.marginRight=g+"px"});d.children&&d.children[0]&&(m=parseInt(ia.getComputedStyle(d.children[0]).width,10))}},
t=function(v){n();v>d.children.length-k&&(v=l=d.children.length-k);d.style.transform="translateX("+(h?"":"-")+v*(m+2*g)+"px)";fa(e);fa(f);l===d.children.length-k&&ea(f);0===l&&ea(e)};a=function(v){var H="next"===v?1:-1;return function(){l+=H;t(l)}};N(function(){return t(l)});f.addEventListener("click",a("next"));e.addEventListener("click",a("prev"));var x=ha(f,b),r=ha(e,b);t(l);return function(){x();r()}};K=function(a){return function(){return D.__awaiter(void 0,void 0,void 0,function(){var b,c,d,
e,f,g,h,m,l,k;return D.__generator(this,function(n){switch(n.label){case 0:B.log("Loaded");b=a||{};c=b.loadAdFeedback;d=b.onLoad;e=b.onInit;f=b.isMobile;g=b.enableAdFeedback;e&&e();if(!g)return[3,5];n.label=1;case 1:n.trys.push([1,4,,5]);h=p("data-ad-feedback-label-id");m=p("data-ad-creative-list");if(!h||!m)return[3,3];l=JSON.parse(m);return[4,Wa(h,l,g)];case 2:n.sent(),n.label=3;case 3:return[3,5];case 4:return k=n.sent(),F(k),[3,5];case 5:try{c&&Ua()}catch(r){F(r)}return[4,qa["default"].pageReady];
case 6:n.sent();B.log("Ready");try{var t=q(".sbx-no-js",void 0);t&&t.classList.remove("sbx-no-js");try{var x=u("[data-cid]");x.length?x.forEach(ba):ba()}catch(r){F(r)}try{ca(),N(ca)}catch(r){F(r)}Ya();d&&d();n=f;if(void 0!==n&&!window.sbxGwentClientDPR)try{window.sbxGwentClientDPR=!0,O((n?"Mobile":"Desktop")+"DPR"+(4>=Math.round(2*window.devicePixelRatio)/2?Math.round(2*window.devicePixelRatio)/2:"4Plus"))}catch(r){F(r)}}catch(r){F(r)}return[2]}})})}}({onLoad:function(){var a=q('[data-id="carousel"]');
if(a){var b=function(){},c=$a(a,function(){b()});q('[data-enhanced-mbc="true"]')&&(b=db(a,c,{minWidth:304,maxWidth:460,borderWidth:1}))}},loadAdFeedback:!0});Q._operationNames=[];Q.card=K});
